<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="refresh" content="5"> <!-- Auto-refresh every 5 seconds to update status -->
    <title>Upstox Real-Time Bubble Chart</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Inter Font -->
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap');
        body { font-family: 'Inter', sans-serif; }
    </style>
    <!-- ECharts CDN -->
    <script src="https://cdn.jsdelivr.net/npm/echarts@5.5.0/dist/echarts.min.js"></script>
</head>
<body class="bg-gray-100 min-h-screen p-4 md:p-8">

    <div class="max-w-7xl mx-auto bg-white shadow-2xl rounded-xl p-6 lg:p-10">
        <h1 class="text-3xl font-extrabold text-blue-700 mb-6 border-b pb-3 flex items-center">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 mr-3" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
                <line x1="12" y1="8" x2="12" y2="16"></line>
                <line x1="8" y1="12" x2="16" y2="12"></line>
            </svg>
            Upstox V3 Real-Time Bubble Chart
        </h1>

        <!-- Status & Authentication -->
        <div class="flex flex-wrap items-center justify-between gap-4 mb-6 p-4 bg-white border border-gray-200 rounded-lg shadow-sm">
           
            {% if token_status != 'Available' %}
            <a href="/login" class="px-4 py-2 bg-blue-600 text-white text-sm font-semibold rounded-lg hover:bg-blue-700 transition duration-150 shadow-md">
                Log In via Upstox
            </a>
            {% endif %}
            
             
             <p>{{ message }}</p>
             


    {% if redirectToIndex %}
        <p>This message is displayed before redirection.</p>
        <script>
            setTimeout(function() {
                window.location.href = "{{ url_for('index') }}";
            }, 3000); // 3000 milliseconds = 3 seconds
        </script>
    {% else %}
        <p>Staying on this page as the condition is false.</p>
    {% endif %}


        </div>

         
 

    </div>


</body>
</html>
